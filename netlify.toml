[build]
  command = "pnpm run build"
  publish = ".next"

[build.environment]
  # These NEXT_PUBLIC_ variables are intentionally public (Supabase anon key and URL)
  # They are meant to be exposed to the client-side bundle
  SECRETS_SCAN_OMIT_KEYS = "NEXT_PUBLIC_SUPABASE_ANON_KEY,NEXT_PUBLIC_SUPABASE_URL"

[[plugins]]
  package = "@netlify/plugin-nextjs"
